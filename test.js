const cities = ["Athabasca","Clearwater","Valemount","Grand Forks","McBride","Merritt","Masset","Invermere","Dome Creek","Little Grand Rapids","Oxford House","Bissett","Shamattawa","York Factory","Flin Flon","Musgrave Harbour","New-Wes-Valley","Bay Roberts","St. Alban's","Fourchu Head","North Mountain (Cape Breton)","Marathon","Terrace Bay","Attawapiskat","Gogama","Maple Plains","Murdochville","Escoumins","Saint-Michel-des-Saints","Rancheria","Dempster (Highway)","Burgeo","Bouctouche","Richibucto","Rogersville","Miramichi","Point Escuminac","Kouchibouguac","St. Lawrence","Parrsboro","Bonavista","Wreckhouse","Edmundston","Beauharnois","Edmonton","Candiac","Calgary","La Prairie","Saint-Constant","Sainte-Catherine","Saint-Rémi","Granby","Cowansville","Victoriaville","Prévost","Sainte-Sophie","Saint-Lin-Laurentides","Saint-Sauveur","Saint-Hyacinthe","Marieville","Rigaud","Saint-Lazare","Farnham","Thetford Mines","Kugaaruk","Highvale","Pelican Narrows","Strathmore","Hawkesbury","Alexandria","Cornwall","Morrisburg","Algonquin Park (Brent)","Algonquin Park (Lake of Two Rivers)","Oxtongue Lake","Welland","Winchester","Whistler","La Scie","Rondeau (Provincial Park)","Coronach","Placentia","Sundre","Halifax (Shearwater)","Témiscamingue","Indian Head","Fort Qu'Appelle","Killarney","New Glasgow","Caribou","Bachelors Island","Beaverlodge","Brooks","Mingan","Nipawin","Beaver Island","Port-Menier","Salaberry-de-Valleyfield","Huntingdon","Cartwright","Bloodvein","Berens River","Atikokan","Fort Frances","Mine Centre","100 Mile House","Clinton","Collingwood","Shelburne","Baccaro Point","Coronation","Englee","Uranium City","Port au Choix","Daniel's Harbour","Badger","Buchans","Grand Falls-Windsor","Willow Creek (Provincial Park)","Claresholm","Chevery","Twillingate","Manicouagan","La Tuque","Mauricie","Calgary (Olympic Park)","Upsala","St. Anthony","Drumheller","Pinawa","Whiteshell","Estevan Point","Shaunavon","Eastend","Virden","Melita","Turtle Mountain (Provincial Park)","East Point","Swan River","Eureka","Vancouver","L'Assomption","Berthierville","Contrecoeur","Mascouche","Prince George","Sorel-Tracy","Tracy","Le Gardeur","Morris","Steinbach","Dominion City","Emerson","Vita","Gulf Islands (Southern)","Elk Island (National Park)","Tisdale","Melfort","Cardston","Snow Lake","Pukatawagan","Nain","Sutton","Colville Lake","Goderich","Kincardine","Garden Creek","Brockville","Gananoque","Waterton Park","Altona","Gretna","Pemberton","Îles-de-la-Madeleine","Sparwood","Esther","Grise Fiord","Hunters Point","Three Hills","Varennes","Hopedale","Donnacona","Haines Junction","Beauceville","Lac-Mégantic","Saint-Georges","Fort Providence","Pine Falls","Victoria Beach","Grand Beach","Broadview","Winnipeg","Charlevoix","Watrous","Humboldt","Alma","Mount Carleton (Provincial Park)","Saint-Quentin","St. Leonard","Grand Falls","Saint-Jean-sur-Richelieu","Saint-Luc","Vanier","Bernières","Ennadai","Grand Rapids","Southend Reindeer","Assiniboia","Fort Liard","Saguenay","Creston","Mont-Tremblant","Sainte-Agathe","Vernon","Hinton","Jasper","Leader","Marble Mountain","Corner Brook","Lillooet","Kejimkujik (National Park)","Malahat","Rockglen","Hope Slide","Dease Lake","Cassiar","Lac La Biche","Lucky Lake","Ogoki","Webequie","Lansdowne House","Gonzales Point","Wingham","Walkerton","Dundalk","North Perth","Shelburne","Mount Forest","Waskesiu Lake","Lytton","Miscou Island","Maniwaki","La Vérendrye (Réserve faunique)","Mont-Laurier","Pitt Meadows","Maple Creek","Whati","Fredericton","Cobourg","North Cape","Rivière-du-Loup","Trois-Pistoles","Temiscouata","Deerwood","Carman","Nelson","Nakusp","Nicolet","Drummondville","Saint-Nicéphore","Kananaskis (Nakiska Ridgetop)","North East Margaree","Baddeck","Hearst","Hornepayne","New Carlisle","Bonaventure","Dolbeau-Mistassini","Onefour","Oak Point","Elbow","Dawson","McCreary","Breton","Wynyard","Hendrickson Creek","St. John's","Midland","Fort Erie","Port Colborne","Laurentides (Réserve faunique)","Point Lepreau","Esquimalt","Parent","Gouin (Réservoir)","Pilot Mound","Terrebonne","Princeton","Puntzi Mountain","Burns Lake","Port Alberni","Tadoussac","Coaticook","Lacombe","Cape Race","Red Earth Creek","Rosetown","Bancroft","Barry's Bay","Haliburton","Apsley","Kaladar","Rocky Mountain House","St. Peter's","Hart Island","Rock River","Crowsnest","Camrose","Wetaskiwin","Milk River","Percé","Chandler","Gibsons","Sechelt","Halifax","Grande-Vallée","Cap Chat","Gaspésie (Parc national)","Sainte-Anne-Des-Monts","Squamish","Salmon Arm","Stratford","London","Woodstock","Strathroy","St. Thomas","Spiritwood","Saint Andrews","St. Stephen","La Malbaie","Montmagny","Kamouraska","L'Islet","Sprague","Sachs Harbour","Fisher Branch","Sambaa K'e","Tetsa River (Provincial Park)","Baie-Saint-Paul","Biggar","Scott","Magog","Trois-Rivières","Bécancour","Louiseville","Faro","Ross River","Summerland","Shoal Lake","Rouyn-Noranda","La Sarre","Swift Current","Vegreville","Val Marie","Vauxhall","Taber","Cypress Hills (Provincial Park)","Deux-Montagnes","Vaudreuil-Dorion","Pincourt","Digby","Brier Island","Yellowknife","Oakville","Burlington","Collins Bay","Western Head","Liverpool","Weyburn","White Rock","Peawanuck","Wasagaming","Muncho Lake","Liard River","Poplar River","Bow Valley (Provincial Park)","Roblin","Last Mountain Lake (Sanctuary)","Bow Island","High River","Stavely","Tracadie-Sheila","Bas-Caraquet","Outlook","Gameti","Indin River","Victoria (University of)","Kootenay (National Park)","Yoho (National Park)","Rimouski","Iqaluit","Gull Bay","Rock Creek","Osoyoos","Chilliwack","Agassiz","Channel-Port aux Basques","Carberry","Shilo","Canmore","Banff","Grand Étang","Amqui","Matapedia","Vallée de la Matapédia","Atlin","Teslin","Thunder Bay","Arctic Bay","Barrhead","Orillia","Barrie","Lévis","Tadoule Lake","Greenstone (Beardmore)","Nipigon","Chéticamp","Carmacks","Tobermory","Deline","Simcoe","Tillsonburg","Norfolk","Westlock","Ear Falls","New Tecumseth","Ottawa (Kanata - Orléans)","Leamington","Ulukhaktok","Ingonish","Smiths Falls","Sharbot Lake","Kemptville","Kirkland Lake","Windsor","Kentville","Lunenburg","Bridgewater","Wekweeti","Lutselke","Morden","Winkler","Sheet Harbour","Malay Falls","Nordegg","Sackville","Amherst","Parry Sound","Dunchurch","Stony Plain","Chatham-Kent","Rodney","Rocky Harbour","Gros Morne","Toronto","Lanaudière","Port Hawkesbury","Tracadie","Antigonish","Cape George","Guysborough","Tatlayoko Lake","Clarenville","Terra Nova (National Park)","Drayton Valley","Vineland","Lincoln","Trail","Winnipeg (The Forks)","Winterland","Marystown","Grand Bank","Nahanni Butte","Whitecourt","La Grande-Quatre","Sault Ste. Marie","Kangirsuk","Tofino","Ucluelet","Baie-Comeau","Forestville","Bella Coola","Bagotville","Baker Lake","Campbell River","Alliston","Minnedosa","Souris","Brandon","Cochrane","Blanc-Sablon","Cambridge Bay","Nanaimo","Castlegar","Kugluktuk","Blue River","Chetwynd","Chesterfield","Chipman","Doaktown","Clyde River","Kluane Lake","Burwash Landing","Deer Lake","Dauphin","Dawson Creek","Edmonton (Int'l Aprt)","Arviat","Elliot Lake","Blind River","Oxbow","Carlyle","Estevan","Fort Severn","Edson","Inuvik","Armstrong","Oromocto","Woodstock","Mildred Lake","Fort Resolution","Fort Simpson","Makkovik","Golden","Greater Napanee","Sydenham","Westport","Kingston","La Grande Rivière","Arnes","Gimli","Gaspé","Forillon","Forillon (National Park)","Greenstone (Geraldton)","Greenstone (Nakina)","Igloolik","Havre St-Pierre","Kuujjuarapik","Gillam","Quaqtaq","Hudson Bay","Dryden","Hope","Haldimand County","Hamilton","Brantford","Longueuil","Richelieu","Carignan","Chambly","Mont Saint-Hilaire","Otterburn Park","Saint-Amable","Saint-Basile Le Grand","Sainte-Julie","Enterprise","Hay River","Summerside","Ivujivik","Pond Inlet","Island Lake","Gods Lake","Stephenville","Kamloops","Cache Creek","Aklavik","Guelph","Cambridge","Kitchener-Waterloo","Kangiqsujuaq","Lac Raglan","Key Lake","Schefferville","Akulivik","Waskaganish","Baie-James","Kindersley","Newmarket","Charlottetown","Vaughan","Markham","Aupaluk","Kimmirut","Chapleau","Meadow Lake","Lloydminster","Kangiqsualujjuaq","Kelowna","Mayo","Mary's Harbour","Fort McMurray","Moosonee","Fort Albany","Chibougamau","Umiujaq","Mirabel","Saint-Jérôme","Lachute","Blainville","Boisbriand","Lorraine","Rosemère","Sainte-Anne-Des-Plaines","Sainte-Thérèse","Saint-Eustache","Natashquan","Gatineau","Papineau","Pontiac","Val-des-Monts","Chelsea","Norway House","Matagami","Ekati (Lac de Gras)","Cold Lake","Québec","High Level","Grand Manan","Ottawa (Richmond - Metcalfe)","Prince Albert","Peace River","Portage la Prairie","Inukjuak","Pickle Lake","Peterborough","Port Perry","Kawartha Lakes (Lindsay)","Kawartha Lakes (Fenelon Falls)","Prince Rupert","Powell River","Montréal","Fort Chipewyan","Burk's Falls","Gravenhurst","Port Carling","Huntsville","Bracebridge","Muskoka","Rainbow Lake","The Pas","Red Deer","Windsor","Good Hope Lake","Watson Lake","Yarmouth","Sioux Narrows","Kenora","Lethbridge","Shediac","Moncton","Hopewell","Comox","Courtenay","Brampton","Kakabeka Falls","Dorion","Grande Prairie","Canora","Yorkton","Kamsack","Melville","North Battleford","Gander","Campbellton","Lewisporte","Sydney","Quesnel","Resolute","Roberval","Lac-Saint-Jean","Saint-Félicien","Red Lake","Pikangikum","Rankin Inlet","Revelstoke","Greater Sudbury","Sherbrooke","Asbestos","Suffield","Stony Rapids","Quispamsis","Sussex","Saint John","Fundy (National Park)","Sanikiluaq","Fort Smith","St. Catharines","Niagara Falls","Nanisivik","Cape Dorset","Thompson","Sachigo Lake","Big Trout Lake","Wunnummin Lake","Tasiujaq","Stirling","Trenton","Prince Edward (Picton)","Belleville","Quinte West","Timmins","Cochrane","Oshawa","Whitby","Shawinigan","Pickering","Puvirnituq","Laval","Naujaat","Hall Beach","La Ronge","Qikiqtarjuaq","Val-d'Or","Amos","Kuujjuaq","Norman Wells","Joliette","La Loche","Buffalo Narrows","Wiarton","Port Elgin","Saugeen Shores","South Bruce Peninsula","Owen Sound","Petawawa","Pembroke","Renfrew","Deep River","Moosomin","Richer","Victoria Harbour","Wabush Lake","Labrador City","Fermont","Williams Lake","Wrigley","Cranbrook","Saint-Timothée","Rosthern","Lambton Shores","Medicine Hat","Fort St. John","Savant Lake","Sioux Lookout","Whale Cove","Pangnirtung","Beaver Creek","Earlton","Temiskaming Shores","Vanderhoof","Repentigny","Kitimat","Terrace","Abbotsford","Paulatuk","Carcross","Wawa","Montreal River Harbour","Lake Superior (Provincial Park)","White River","North Bay","West Nipissing","Okotoks","Airdrie","Delson","Smithers","Fort Nelson","Penticton","Richmond Hill","Taloyoak","Victoria","Leaf Rapids","Lynn Lake","Brochet","Churchill","Happy Valley-Goose Bay","Grande Cache","Kapuskasing","Mont-Joli","Matane","Toronto Island","Mississauga","Caledon","Regina","Halton Hills","Gore Bay","Detah","Victoria (Hartland)","Salluit","Slave Lake","Sandspit","Sarnia","Saskatoon","Coral Harbour","Port Hardy","Sept-Îles","Port-Cartier","Annapolis Royal","Greenwood","Bridgetown","Mackenzie","Bathurst","Campbellton","Dalhousie","Charlo","Pointe-à-la-Croix","Carleton-sur-Mer","Tatamagouche","Truro","Economy","Orangeville","Fort McPherson","Tulita","Fort Good Hope","Ignace","Gjoa Haven","Alert","Moose Jaw","Old Crow","Pincher Creek","Whitehorse","Sandy Lake","St. Peters Bay","Stewart","Stettler","Tuktoyaktuk","Delta","Churchill Falls","Wainwright","Bella Bella","Lloydminster","Sudbury (Greater)","Cummins Lakes (Provincial Park)","L'Anse-au-Loup","Rigolet","Cartwright Junction (Trans-Labrador Hwy)","Gull Island Rapids (Trans-Labrador Hwy)","Eskasoni","Richmond","Duncan","Qualicum Beach","West Vancouver","Langley"];

function autocomplete(inp, arr) {
    /*the autocomplete function takes two arguments,
    the text field element and an array of possible autocompleted values:*/
    let currentFocus;
    /*execute a function when someone writes in the text field:*/
    inp.addEventListener("input", function(e) {
        let a, b, i, val = this.value;
        let counter = 0;  
        /*close any already open lists of autocompleted values*/
        closeAllLists();
        if (!val) { return false;}
        currentFocus = -1;
        /*create a DIV element that will contain the items (values):*/
        a = document.createElement("DIV");
        a.setAttribute("id", this.id + "autocomplete-list");
        a.setAttribute("class", "autocomplete-items");
        /*append the DIV element as a child of the autocomplete container:*/
        this.parentNode.appendChild(a);
        /*for each item in the array...*/
        for (i = 0; i < arr.length; i++) {
          /*check if the item starts with the same letters as the text field value:*/
          if (arr[i].normalize("NFD").replace(/[\u0300-\u036f]/g, "").substr(0, val.length).toUpperCase() === val.toUpperCase() && counter < 10) {
            /*create a DIV element for each matching element:*/
            b = document.createElement("DIV");
            /*make the matching letters bold:*/
            b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
            b.innerHTML += arr[i].substr(val.length);
            /*insert a input field that will hold the current array item's value:*/
            b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
            /*execute a function when someone clicks on the item value (DIV element):*/
                b.addEventListener("click", function(e) {
                /*insert the value for the autocomplete text field:*/
                inp.value = this.getElementsByTagName("input")[0].value;
                /*close the list of autocompleted values,
                (or any other open lists of autocompleted values:*/
                closeAllLists();
            });
            a.appendChild(b);
            counter ++;
          }
        }
    });
    /*execute a function presses a key on the keyboard:*/
    inp.addEventListener("keydown", function(e) {
        let x = document.getElementById(this.id + "autocomplete-list");
        if (x) x = x.getElementsByTagName("div");
        if (e.keyCode == 40) {
          /*If the arrow DOWN key is pressed,
          increase the currentFocus variable:*/
          currentFocus++;
          /*and and make the current item more visible:*/
          addActive(x);
        } else if (e.keyCode == 38) { //up
          /*If the arrow UP key is pressed,
          decrease the currentFocus variable:*/
          currentFocus--;
          /*and and make the current item more visible:*/
          addActive(x);
        } else if (e.keyCode == 13) {
          /*If the ENTER key is pressed, prevent the form from being submitted,*/
          // e.preventDefault();
          if (currentFocus > -1) {
            /*and simulate a click on the "active" item:*/
            if (x) x[currentFocus].click();
          }
        }
    });
    function addActive(x) {
      /*a function to classify an item as "active":*/
      if (!x) return false;
      /*start by removing the "active" class on all items:*/
      removeActive(x);
      if (currentFocus >= x.length) currentFocus = 0;
      if (currentFocus < 0) currentFocus = (x.length - 1);
      /*add class "autocomplete-active":*/
      x[currentFocus].classList.add("autocomplete-active");
    }
    function removeActive(x) {
      /*a function to remove the "active" class from all autocomplete items:*/
      for (i = 0; i < x.length; i++) {
        x[i].classList.remove("autocomplete-active");
      }
    }
    function closeAllLists(elmnt) {
      /*close all autocomplete lists in the document,
      except the one passed as an argument:*/
      let x = document.getElementsByClassName("autocomplete-items");
      for (i = 0; i < x.length; i++) {
        if (elmnt != x[i] && elmnt != inp) {
        x[i].parentNode.removeChild(x[i]);
      }
    }
  }
  /*execute a function when someone clicks in the document:*/
  document.addEventListener("click", function (e) {
      closeAllLists(e.target);
  });
  }

autocomplete(document.getElementById("myInput"), cities);